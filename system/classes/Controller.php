<?

	///////////////////////////////////////////////////////////////////////////
	//
	//	Controller.php
	//
	//	Parent class for all pages - subclass to load in particular page
	//
	///////////////////////////////////////////////////////////////////////////

	require_once CLASSES_DIR.'Output.php';
	require_once CLASSES_DIR.'Authentication.php';
	
	class Controller {
		
	
		///////////////////////////////////////////////////////////////////////////
		//
		//	Available to this class and all subclasses
		//
		///////////////////////////////////////////////////////////////////////////
		protected $db;
		
		
		///////////////////////////////////////////////////////////////////////////
		//
		//	Publically accessible properties
		//
		///////////////////////////////////////////////////////////////////////////
		public $name;
		public $title;
		public $keywords;
		public $description;
		public $output;
		public $auth;
		
		
		
		///////////////////////////////////////////////////////////////////////////
		//
		//	Constructor
		//
		///////////////////////////////////////////////////////////////////////////
		public function __construct() {
			
			global $db;
				
			$this->db =& $db;
			$this->output = new Output();
						
			$this->name = get_class($this);
			$this->title = "";
			$this->keywords = DEFAULT_KEYWORDS;
			$this->description = DEFAULT_DESCRIPTION;
			
			if ( ($this->auth = session("auth")) === false ) {
				$this->auth = new Authentication();
			} 
					
		}

	}
	
?>